// @mode: run
// @result: 10

type F2 = (a: i32, b: i32) => i32;
type StringFunc = (s: string) => string;

type F = F2 | StringFunc;

export let main = (): i32 => {
  // Adaptation: (a) => a adapts to F2 (drops b)
  // It is NOT compatible with StringFunc.
  // So the compiler must choose F2 and wrap the function.
  var f: F = (a: i32) => a;
  
  // We cast back to F2 to verify the adaptation wrapper was created correctly
  // and can be called.
  var f2 = f as F2;
  return f2(10, 20); // Should return 10
};
