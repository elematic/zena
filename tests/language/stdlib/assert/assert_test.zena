// Assert stdlib tests using zena:test
import {suite, test, TestContext} from 'zena:test';
import {equal, notEqual, isTrue, isFalse, greater, greaterOrEqual, less, lessOrEqual} from 'zena:assert';

// Note: Tests for same/notSame/isNull/isNotNull require class definitions.
// Tests using throws/doesNotThrow/fail cause codegen issues.
// Those remain in assert_test.ts.

export let tests = suite('Assert', (): void => {
  test('equal passes for same i32 values', (ctx: TestContext): void => {
    equal(1 + 1, 2);
    equal(5 - 3, 2);
    equal(10, 10);
  });

  test('notEqual passes for different values', (ctx: TestContext): void => {
    notEqual(1, 2);
    notEqual(10, 20);
  });

  test('isTrue passes for true', (ctx: TestContext): void => {
    isTrue(true);
    isTrue(1 == 1);
    isTrue(2 > 1);
  });

  test('isFalse passes for false', (ctx: TestContext): void => {
    isFalse(false);
    isFalse(1 == 2);
    isFalse(1 > 2);
  });

  test('greater passes when actual > expected', (ctx: TestContext): void => {
    greater(5, 3);
  });

  test('greaterOrEqual passes when actual >= expected', (ctx: TestContext): void => {
    greaterOrEqual(5, 3);
    greaterOrEqual(5, 5);
  });

  test('less passes when actual < expected', (ctx: TestContext): void => {
    less(3, 5);
  });

  test('lessOrEqual passes when actual <= expected', (ctx: TestContext): void => {
    lessOrEqual(3, 5);
    lessOrEqual(5, 5);
  });
});
