// Test type alias with object type
//
// @requires: wasmtime

import {console} from 'zena:console-wasi';
import {Array} from 'zena:growable-array';

type EnvVar = {
  name: string,
  value: string
};

let getEnvVars = (): Array<EnvVar> => {
  let result = new Array<EnvVar>();
  result.push({ name: "HOME", value: "/home/user" });
  result.push({ name: "PATH", value: "/bin" });
  return result;
};

export let main = (): i32 => {
  console.log("Testing EnvVar type...");
  
  let envs = getEnvVars();
  console.log("Got envs");
  
  if (envs.length > 0) {
    let first = envs[0];
    console.log("First: " + first.name + "=" + first.value);
  }
  
  return 0;
};
