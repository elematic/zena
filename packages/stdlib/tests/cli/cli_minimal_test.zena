// Minimal CLI test - no nullable types
//
// @requires: wasmtime

import {getArguments, getEnvironment, ExitCode, exit} from 'zena:cli';
import {console} from 'zena:console-wasi';

export let main = (): i32 => {
  console.log("Testing CLI...");
  
  let args = getArguments();
  console.log("Got args");
  
  if (args.length > 0) {
    console.log("First arg: " + args[0]);
  }
  
  let envs = getEnvironment();
  console.log("Got envs");
  
  if (envs.length > 0) {
    let first = envs[0];
    console.log("First env: " + first.name + "=" + first.value);
  }
  
  return 0;
};
